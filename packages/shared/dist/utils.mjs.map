{"version":3,"sources":["../src/utils/index.ts"],"sourcesContent":["// ===========================================\n// Made in France - Shared Utilities\n// ===========================================\n\n/**\n * Generate a URL-friendly slug from a string\n */\nexport function slugify(text: string): string {\n  return text\n    .toString()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '') // Remove accents\n    .toLowerCase()\n    .trim()\n    .replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(/[^\\w-]+/g, '') // Remove all non-word chars\n    .replace(/--+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n}\n\n/**\n * Format a price range for display\n */\nexport function formatPriceRange(\n  min?: number | null,\n  max?: number | null,\n  currency = 'EUR'\n): string {\n  const formatter = new Intl.NumberFormat('fr-FR', {\n    style: 'currency',\n    currency,\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  });\n\n  if (min != null && max != null) {\n    if (min === max) {\n      return formatter.format(min);\n    }\n    return `${formatter.format(min)} - ${formatter.format(max)}`;\n  }\n  if (min != null) {\n    return `À partir de ${formatter.format(min)}`;\n  }\n  if (max != null) {\n    return `Jusqu'à ${formatter.format(max)}`;\n  }\n  return 'Prix non communiqué';\n}\n\n/**\n * Format a price for display\n */\nexport function formatPrice(price: number, currency = 'EUR'): string {\n  return new Intl.NumberFormat('fr-FR', {\n    style: 'currency',\n    currency,\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2,\n  }).format(price);\n}\n\n/**\n * Format a number for display\n */\nexport function formatNumber(num: number): string {\n  return new Intl.NumberFormat('fr-FR').format(num);\n}\n\n/**\n * Format a date for display\n */\nexport function formatDate(\n  date: string | Date,\n  options: Intl.DateTimeFormatOptions = {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  }\n): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return new Intl.DateTimeFormat('fr-FR', options).format(d);\n}\n\n/**\n * Format a relative date (e.g., \"il y a 2 jours\")\n */\nexport function formatRelativeDate(date: string | Date): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  const now = new Date();\n  const diffMs = now.getTime() - d.getTime();\n  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n\n  if (diffDays === 0) {\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n    if (diffHours === 0) {\n      const diffMinutes = Math.floor(diffMs / (1000 * 60));\n      if (diffMinutes === 0) {\n        return \"À l'instant\";\n      }\n      return `Il y a ${diffMinutes} minute${diffMinutes > 1 ? 's' : ''}`;\n    }\n    return `Il y a ${diffHours} heure${diffHours > 1 ? 's' : ''}`;\n  }\n  if (diffDays === 1) {\n    return 'Hier';\n  }\n  if (diffDays < 7) {\n    return `Il y a ${diffDays} jours`;\n  }\n  if (diffDays < 30) {\n    const weeks = Math.floor(diffDays / 7);\n    return `Il y a ${weeks} semaine${weeks > 1 ? 's' : ''}`;\n  }\n  if (diffDays < 365) {\n    const months = Math.floor(diffDays / 30);\n    return `Il y a ${months} mois`;\n  }\n  const years = Math.floor(diffDays / 365);\n  return `Il y a ${years} an${years > 1 ? 's' : ''}`;\n}\n\n/**\n * Truncate text to a maximum length\n */\nexport function truncate(text: string, maxLength: number): string {\n  if (text.length <= maxLength) {\n    return text;\n  }\n  return text.slice(0, maxLength - 3) + '...';\n}\n\n/**\n * Capitalize the first letter of a string\n */\nexport function capitalize(text: string): string {\n  return text.charAt(0).toUpperCase() + text.slice(1);\n}\n\n/**\n * Calculate distance between two coordinates (in km)\n */\nexport function calculateDistance(\n  lat1: number,\n  lng1: number,\n  lat2: number,\n  lng2: number\n): number {\n  const R = 6371; // Earth's radius in km\n  const dLat = toRad(lat2 - lat1);\n  const dLng = toRad(lng2 - lng1);\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(toRad(lat1)) *\n      Math.cos(toRad(lat2)) *\n      Math.sin(dLng / 2) *\n      Math.sin(dLng / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c;\n}\n\nfunction toRad(deg: number): number {\n  return deg * (Math.PI / 180);\n}\n\n/**\n * Format distance for display\n */\nexport function formatDistance(km: number): string {\n  if (km < 1) {\n    return `${Math.round(km * 1000)} m`;\n  }\n  if (km < 10) {\n    return `${km.toFixed(1)} km`;\n  }\n  return `${Math.round(km)} km`;\n}\n\n/**\n * Check if a value is empty (null, undefined, empty string, empty array, empty object)\n */\nexport function isEmpty(value: unknown): boolean {\n  if (value === null || value === undefined) return true;\n  if (typeof value === 'string') return value.trim().length === 0;\n  if (Array.isArray(value)) return value.length === 0;\n  if (typeof value === 'object') return Object.keys(value).length === 0;\n  return false;\n}\n\n/**\n * Generate a random ID\n */\nexport function generateId(): string {\n  return Math.random().toString(36).substring(2, 15) + \n         Math.random().toString(36).substring(2, 15);\n}\n\n/**\n * Debounce a function\n */\nexport function debounce<T extends (...args: unknown[]) => unknown>(\n  fn: T,\n  delay: number\n): (...args: Parameters<T>) => void {\n  let timeoutId: ReturnType<typeof setTimeout>;\n  return (...args: Parameters<T>) => {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => fn(...args), delay);\n  };\n}\n\n/**\n * Throttle a function\n */\nexport function throttle<T extends (...args: unknown[]) => unknown>(\n  fn: T,\n  limit: number\n): (...args: Parameters<T>) => void {\n  let inThrottle = false;\n  return (...args: Parameters<T>) => {\n    if (!inThrottle) {\n      fn(...args);\n      inThrottle = true;\n      setTimeout(() => (inThrottle = false), limit);\n    }\n  };\n}\n\n/**\n * Deep clone an object\n */\nexport function deepClone<T>(obj: T): T {\n  return JSON.parse(JSON.stringify(obj));\n}\n\n/**\n * Build a URL with query parameters\n */\nexport function buildUrl(\n  baseUrl: string,\n  params: Record<string, string | number | boolean | string[] | undefined>\n): string {\n  const url = new URL(baseUrl, 'http://placeholder.com');\n  \n  Object.entries(params).forEach(([key, value]) => {\n    if (value === undefined) return;\n    if (Array.isArray(value)) {\n      value.forEach((v) => url.searchParams.append(key, v));\n    } else {\n      url.searchParams.set(key, String(value));\n    }\n  });\n  \n  // Return path + search (without origin)\n  return url.pathname + url.search;\n}\n\n/**\n * Parse query parameters from a URL\n */\nexport function parseQueryParams(url: string): Record<string, string | string[]> {\n  const searchParams = new URLSearchParams(url.split('?')[1] || '');\n  const params: Record<string, string | string[]> = {};\n  \n  searchParams.forEach((value, key) => {\n    if (params[key]) {\n      if (Array.isArray(params[key])) {\n        (params[key] as string[]).push(value);\n      } else {\n        params[key] = [params[key] as string, value];\n      }\n    } else {\n      params[key] = value;\n    }\n  });\n  \n  return params;\n}\n"],"mappings":";AAOO,SAAS,QAAQ,MAAsB;AAC5C,SAAO,KACJ,SAAS,EACT,UAAU,KAAK,EACf,QAAQ,oBAAoB,EAAE,EAC9B,YAAY,EACZ,KAAK,EACL,QAAQ,QAAQ,GAAG,EACnB,QAAQ,YAAY,EAAE,EACtB,QAAQ,QAAQ,GAAG,EACnB,QAAQ,OAAO,EAAE,EACjB,QAAQ,OAAO,EAAE;AACtB;AAKO,SAAS,iBACd,KACA,KACA,WAAW,OACH;AACR,QAAM,YAAY,IAAI,KAAK,aAAa,SAAS;AAAA,IAC/C,OAAO;AAAA,IACP;AAAA,IACA,uBAAuB;AAAA,IACvB,uBAAuB;AAAA,EACzB,CAAC;AAED,MAAI,OAAO,QAAQ,OAAO,MAAM;AAC9B,QAAI,QAAQ,KAAK;AACf,aAAO,UAAU,OAAO,GAAG;AAAA,IAC7B;AACA,WAAO,GAAG,UAAU,OAAO,GAAG,CAAC,MAAM,UAAU,OAAO,GAAG,CAAC;AAAA,EAC5D;AACA,MAAI,OAAO,MAAM;AACf,WAAO,kBAAe,UAAU,OAAO,GAAG,CAAC;AAAA,EAC7C;AACA,MAAI,OAAO,MAAM;AACf,WAAO,cAAW,UAAU,OAAO,GAAG,CAAC;AAAA,EACzC;AACA,SAAO;AACT;AAKO,SAAS,YAAY,OAAe,WAAW,OAAe;AACnE,SAAO,IAAI,KAAK,aAAa,SAAS;AAAA,IACpC,OAAO;AAAA,IACP;AAAA,IACA,uBAAuB;AAAA,IACvB,uBAAuB;AAAA,EACzB,CAAC,EAAE,OAAO,KAAK;AACjB;AAKO,SAAS,aAAa,KAAqB;AAChD,SAAO,IAAI,KAAK,aAAa,OAAO,EAAE,OAAO,GAAG;AAClD;AAKO,SAAS,WACd,MACA,UAAsC;AAAA,EACpC,MAAM;AAAA,EACN,OAAO;AAAA,EACP,KAAK;AACP,GACQ;AACR,QAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,IAAI,IAAI;AACtD,SAAO,IAAI,KAAK,eAAe,SAAS,OAAO,EAAE,OAAO,CAAC;AAC3D;AAKO,SAAS,mBAAmB,MAA6B;AAC9D,QAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,IAAI,IAAI;AACtD,QAAM,MAAM,oBAAI,KAAK;AACrB,QAAM,SAAS,IAAI,QAAQ,IAAI,EAAE,QAAQ;AACzC,QAAM,WAAW,KAAK,MAAM,UAAU,MAAO,KAAK,KAAK,GAAG;AAE1D,MAAI,aAAa,GAAG;AAClB,UAAM,YAAY,KAAK,MAAM,UAAU,MAAO,KAAK,GAAG;AACtD,QAAI,cAAc,GAAG;AACnB,YAAM,cAAc,KAAK,MAAM,UAAU,MAAO,GAAG;AACnD,UAAI,gBAAgB,GAAG;AACrB,eAAO;AAAA,MACT;AACA,aAAO,UAAU,WAAW,UAAU,cAAc,IAAI,MAAM,EAAE;AAAA,IAClE;AACA,WAAO,UAAU,SAAS,SAAS,YAAY,IAAI,MAAM,EAAE;AAAA,EAC7D;AACA,MAAI,aAAa,GAAG;AAClB,WAAO;AAAA,EACT;AACA,MAAI,WAAW,GAAG;AAChB,WAAO,UAAU,QAAQ;AAAA,EAC3B;AACA,MAAI,WAAW,IAAI;AACjB,UAAM,QAAQ,KAAK,MAAM,WAAW,CAAC;AACrC,WAAO,UAAU,KAAK,WAAW,QAAQ,IAAI,MAAM,EAAE;AAAA,EACvD;AACA,MAAI,WAAW,KAAK;AAClB,UAAM,SAAS,KAAK,MAAM,WAAW,EAAE;AACvC,WAAO,UAAU,MAAM;AAAA,EACzB;AACA,QAAM,QAAQ,KAAK,MAAM,WAAW,GAAG;AACvC,SAAO,UAAU,KAAK,MAAM,QAAQ,IAAI,MAAM,EAAE;AAClD;AAKO,SAAS,SAAS,MAAc,WAA2B;AAChE,MAAI,KAAK,UAAU,WAAW;AAC5B,WAAO;AAAA,EACT;AACA,SAAO,KAAK,MAAM,GAAG,YAAY,CAAC,IAAI;AACxC;AAKO,SAAS,WAAW,MAAsB;AAC/C,SAAO,KAAK,OAAO,CAAC,EAAE,YAAY,IAAI,KAAK,MAAM,CAAC;AACpD;AAKO,SAAS,kBACd,MACA,MACA,MACA,MACQ;AACR,QAAM,IAAI;AACV,QAAM,OAAO,MAAM,OAAO,IAAI;AAC9B,QAAM,OAAO,MAAM,OAAO,IAAI;AAC9B,QAAM,IACJ,KAAK,IAAI,OAAO,CAAC,IAAI,KAAK,IAAI,OAAO,CAAC,IACtC,KAAK,IAAI,MAAM,IAAI,CAAC,IAClB,KAAK,IAAI,MAAM,IAAI,CAAC,IACpB,KAAK,IAAI,OAAO,CAAC,IACjB,KAAK,IAAI,OAAO,CAAC;AACrB,QAAM,IAAI,IAAI,KAAK,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,KAAK,IAAI,CAAC,CAAC;AACvD,SAAO,IAAI;AACb;AAEA,SAAS,MAAM,KAAqB;AAClC,SAAO,OAAO,KAAK,KAAK;AAC1B;AAKO,SAAS,eAAe,IAAoB;AACjD,MAAI,KAAK,GAAG;AACV,WAAO,GAAG,KAAK,MAAM,KAAK,GAAI,CAAC;AAAA,EACjC;AACA,MAAI,KAAK,IAAI;AACX,WAAO,GAAG,GAAG,QAAQ,CAAC,CAAC;AAAA,EACzB;AACA,SAAO,GAAG,KAAK,MAAM,EAAE,CAAC;AAC1B;AAKO,SAAS,QAAQ,OAAyB;AAC/C,MAAI,UAAU,QAAQ,UAAU,OAAW,QAAO;AAClD,MAAI,OAAO,UAAU,SAAU,QAAO,MAAM,KAAK,EAAE,WAAW;AAC9D,MAAI,MAAM,QAAQ,KAAK,EAAG,QAAO,MAAM,WAAW;AAClD,MAAI,OAAO,UAAU,SAAU,QAAO,OAAO,KAAK,KAAK,EAAE,WAAW;AACpE,SAAO;AACT;AAKO,SAAS,aAAqB;AACnC,SAAO,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,EAAE,IAC1C,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,EAAE;AACnD;AAKO,SAAS,SACd,IACA,OACkC;AAClC,MAAI;AACJ,SAAO,IAAI,SAAwB;AACjC,iBAAa,SAAS;AACtB,gBAAY,WAAW,MAAM,GAAG,GAAG,IAAI,GAAG,KAAK;AAAA,EACjD;AACF;AAKO,SAAS,SACd,IACA,OACkC;AAClC,MAAI,aAAa;AACjB,SAAO,IAAI,SAAwB;AACjC,QAAI,CAAC,YAAY;AACf,SAAG,GAAG,IAAI;AACV,mBAAa;AACb,iBAAW,MAAO,aAAa,OAAQ,KAAK;AAAA,IAC9C;AAAA,EACF;AACF;AAKO,SAAS,UAAa,KAAW;AACtC,SAAO,KAAK,MAAM,KAAK,UAAU,GAAG,CAAC;AACvC;AAKO,SAAS,SACd,SACA,QACQ;AACR,QAAM,MAAM,IAAI,IAAI,SAAS,wBAAwB;AAErD,SAAO,QAAQ,MAAM,EAAE,QAAQ,CAAC,CAAC,KAAK,KAAK,MAAM;AAC/C,QAAI,UAAU,OAAW;AACzB,QAAI,MAAM,QAAQ,KAAK,GAAG;AACxB,YAAM,QAAQ,CAAC,MAAM,IAAI,aAAa,OAAO,KAAK,CAAC,CAAC;AAAA,IACtD,OAAO;AACL,UAAI,aAAa,IAAI,KAAK,OAAO,KAAK,CAAC;AAAA,IACzC;AAAA,EACF,CAAC;AAGD,SAAO,IAAI,WAAW,IAAI;AAC5B;AAKO,SAAS,iBAAiB,KAAgD;AAC/E,QAAM,eAAe,IAAI,gBAAgB,IAAI,MAAM,GAAG,EAAE,CAAC,KAAK,EAAE;AAChE,QAAM,SAA4C,CAAC;AAEnD,eAAa,QAAQ,CAAC,OAAO,QAAQ;AACnC,QAAI,OAAO,GAAG,GAAG;AACf,UAAI,MAAM,QAAQ,OAAO,GAAG,CAAC,GAAG;AAC9B,QAAC,OAAO,GAAG,EAAe,KAAK,KAAK;AAAA,MACtC,OAAO;AACL,eAAO,GAAG,IAAI,CAAC,OAAO,GAAG,GAAa,KAAK;AAAA,MAC7C;AAAA,IACF,OAAO;AACL,aAAO,GAAG,IAAI;AAAA,IAChB;AAAA,EACF,CAAC;AAED,SAAO;AACT;","names":[]}